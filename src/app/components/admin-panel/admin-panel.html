<div class="admin-panel">
  <h2>Панель администратора</h2>
  
  <div *ngIf="loading" class="loading">Загрузка...</div>
  
  <div class="stats">
    <div class="stat-card">
      <h3>Всего пользователей</h3>
      <p class="count">{{ users.length }}</p>
    </div>
    <div class="stat-card">
      <h3>Всего заявок</h3>
      <p class="count">{{ applications.length }}</p>
    </div>
    <div class="stat-card">
      <h3>Активных проектов</h3>
      <p class="count">{{ projects.length }}</p>
    </div>
  </div>

  <div class="users-section">
    <h3>Управление пользователями</h3>
    <div class="user-card" *ngFor="let user of users">
      <div class="user-info">
        <span class="name">{{ user.fullName }}</span>
        <span class="email">{{ user.email }}</span>
        <span class="phone">{{ user.phone || 'Телефон не указан' }}</span>
        <span class="date">Зарегистрирован: {{ formatDate(user.createdAt) }}</span>
      </div>
      <div class="role-controls">
        <select [value]="user.role" #roleSelect>
          <option value="Client">Клиент</option>
          <option value="Contractor">Подрядчик</option>
          <option value="Admin">Администратор</option>
        </select>
        <button (click)="changeUserRole(user.id, roleSelect.value)">Обновить роль</button>
      </div>
    </div>
  </div>
</div>